# TranspirationMonitor
Measures transpiration using an embedded system I made for a final project
	Transpiration is the process of water migrating upward through a plant’s water column (from root to crown) and consequent evaporation from a plant’s leaves. It is a critical life function for vascular plants, facilitating the movement of water against the force of gravity. It is tied deeply with metabolism, and of course, water balance. Rates of transpiration can be used as an indicator of overall plant health, but has many focused applications. This project’s goal is to make a tool that can measure the transpiration rate of a plant over a period of time.

	As a solo project, I wanted to make the project manageable, but also interesting and valuable in it’s own right. As such, my goals initially were to make a sensor that would measure the transpiration rate of a whole small plant, and send the data to myself via email.  There are several ways to measure transpiration, but as we discussed earlier via email, I found it important to introduce some form of container containing the plant to produce a controlled environment. I initially was going to go with a large glass jug, but I later opted to just using a gallon Ziplock bag as it would be the easiest to use (albeit certainly not very accurate). I felt that the Adafruit Feather M0 WiFi would be a good fit for this project, so I went ahead and got it. I also decided to choose the Si7006 surface mount humidity sensor as my roommate had it lying around—I will discuss my regrets regarding this decision later on. I will discuss how these goals changed as I handled challenges in the project.
	
	I started out the project with turning the LED’s on and off, as it seemed like a good way to verify the hardware, and as I figured I would need some way to tell the user the state of the device. This is when I decided on having three states, one as a ready state, awaiting the initial button press. The second is a calibration state, as a control measurement is required prior to measuring the actual change in water content within the container. Initially, I tried to mount the microcontroller board on my breadboard with the use of headers but without soldering (with tape). I, not surprisingly, had issues with keeping the contacts touching, so I later soldered the header pins to the female holes in the board. To continue verifying hardware and to get further familiar with the board, I also played around with using a button to change the state of the LED’s. I used the same button as in project 2, with the same pull-up setup. Again, I knew I needed some way to change the state of the device, and thought this would be the easiest way to do so. I then went on to play around with the WiFi capabilities of the board, as I knew this would likely be the most unfamiliar software interface that I would be using in this project. During this time I researched different ways to send the data to myself, and got the impression that sending an email to myself would be overly complicated, and that sending the data to a simple web server would have the same effect. The next set of difficulties largely have a common root—the surface mount humidity sensor. To accommodate using the sensor, I had to make a PCB with the sensor itself, two pull-up resistors for the I2C busses, and a capacitor. For me, just designing the PCB itself was difficult, as it’s been a while since I’ve used CAD. My next struggle was drawing out the mask, and then painting it by hand (acrylic paint). I had to redo this part several times. Thankfully, the etching itself was the easiest part. Finally, when soldering time came, I soldered the resistors as pull-downs (to ground) instead of pull-ups, and had to remove the soldering and solder them on correctly. Unfortunately, I believe that my soldering job may have compromised the humidity sensing function of the sensor—all measurements give around 3% relative humidity indoors, where it should be of likely 30% upwards. I understand that the documentation for the sensor state that humidity readings will likely become less accurate after soldering, markedly so for a period of 48 hours. At the time of writing this, I’ve done the soldering about 12 hours ago, so that could certainly be a contributor to this issue. Basically, I should’ve bought a through-hole sensor, and saved myself a lot of hassle. To finish off the project, I had to actually set up the I2C interface itself, which also was new to me, but also was quite intuitive.

	As a single man project, I don’t think that I was really able to anything all that interesting. To me, at least, the web server was fairly interesting, but it largely went over my head due to the high level of complexity involved. I rather found the I2C interface compelling, largely because of it’s simplicity. Especially using the Arduino IDE, all the port mapping and frequency regulation is done in an object-oriented fashion. I think my implementation, as a single master and slave bus, is fairly standard and also simple, but still I think it was a nice learning experience for me, as much of I2C’s power comes with it’s simplicity. I simply initiated the bus at setup, and had simple reusable methods for measuring humidity and temperature. These methods followed this pattern—address the slave, write a command to the slave, send to the slave, request from the slave, and then read from the slave. I would certainly like to learn more about I2C, perhaps in a less-object oriented manner.
